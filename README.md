> 本文档为设计文档，记录了我在搭建博客过程中的设计思路、设计笔记，还有相关知识





# 网站类型

* 个人博客
  * 动态网站





#### 什么是静态网站

> 这是一个非常好的问题，我们来一步一步解释清楚。
>
> ---
>
> ### ✅ 一、什么是**静态网站（Static Website）**？
>
> #### 📌 定义：
>
> 静态网站是指：**所有网页内容在服务器上是预先写好、固定不变的 HTML、CSS、JavaScript 文件**，用户访问时，服务器直接把这些文件发给浏览器，**不需要在服务器端动态生成或查询数据库**。
>
> #### 🧱 核心特点：
>
> | 特点         | 说明                                                |
> | ------------ | --------------------------------------------------- |
> | 📄 内容固定   | 每个页面都是 `.html` 文件，内容不会因用户不同而变化 |
> | ⚙️ 无后端逻辑 | 不需要 PHP、Python、Node.js 等服务器端语言          |
> | 💾 无数据库   | 不依赖 MySQL、MongoDB 等存储数据                    |
> | 🚀 加载快     | 可以用 CDN 全球加速，性能高                         |
> | ✅ 易部署     | 可以托管在 GitHub Pages、Vercel、Netlify 等免费平台 |
>
> 📌 **常见例子**：
>
> - 个人博客（如用 Hugo、Jekyll 生成）
> - 企业官网（公司介绍、联系方式）
> - 项目展示页
> - 技术文档网站（如 Vue 官方文档）
>
> ---
>
> ### ❓ 二、有轮播图的网站是静态网站吗？
>
> ✅ **可以是！**
>
> > **轮播图本身是前端功能，由 JavaScript 实现，不涉及服务器处理。**
>
> #### 🔍 举个例子：
>
> 你用 HTML + CSS + JavaScript 写了一个轮播图，图片都放在 `images/` 文件夹里：
>
> ```html
> <div class="carousel">
>   <img src="images/banner1.jpg">
>   <img src="images/banner2.jpg">
>   <img src="images/banner3.jpg">
> </div>
> <script>
>   // 用 JS 控制图片自动切换
>   let index = 0;
>   setInterval(() => {
>     index = (index + 1) % 3;
>     // 切换图片
>   }, 3000);
> </script>
> ```
>
> 👉 这个网站依然是**静态网站**，因为：
>
> - 页面是预先写好的 `.html` 文件
> - 轮播是浏览器自己完成的（客户端 JavaScript）
> - 没有向服务器请求“生成”内容
>
> ---
>
> ### ❓ 三、能向后端发送请求的网站，还是静态网站吗？
>
> 这个问题要分情况看：
>
> ---
>
> #### ✅ 情况 1：**前端 JS 调用第三方 API（比如获取天气、评论）**
>
> 👉 **仍然可以算静态网站**，这叫 **“伪动态” 或 “Jamstack” 架构**。
>
> ##### 🔍 例子：
>
> 你在静态网站中加了这段代码：
>
> ```javascript
> fetch('https://api.weather.com/today')
>   .then(res => res.json())
>   .then(data => {
>     document.getElementById('weather').innerText = data.temp;
>   });
> ```
>
> 👉 虽然发了请求，但：
>
> - 网站本身还是 `.html` 文件
> - 请求是**浏览器发起的**，不是服务器
> - 服务器只是“发文件”，不参与逻辑
>
> 📌 这种模式非常流行，叫 **Jamstack**（JavaScript + APIs + Markup），比如：
>
> - 用 Disqus 加评论
> - 用 LeanCloud 存评论
> - 用 Stripe 支付
>
> ✅ **结论：仍然是静态网站**。
>
> ---
>
> #### ❌ 情况 2：**服务器端动态生成页面（如 PHP、Python）**
>
> 比如用户访问 `/news.php?id=123`，服务器才去数据库查新闻，生成 HTML 返回。
>
> 👉 这就是典型的**动态网站**，不是静态网站。
>
> ---
>
> #### ❌ 情况 3：**用户提交表单，数据存到服务器数据库**
>
> 比如：
>
> ```html
> <form action="/submit.php" method="post">
>   <input type="text" name="name">
>   <button type="submit">提交</button>
> </form>
> ```
>
> 👉 如果 `/submit.php` 是一个 PHP 脚本，把数据存进数据库，那就是**动态网站**。
>
> 但如果用第三方服务（如 Google Form、Airtable、Formspree），表单提交到外部，**你的服务器不处理**，那也可以算静态网站。
>
> ---
>
> ### ✅ 总结：判断一个网站是不是静态网站，看这几点：
>
> | 问题                                     | 是静态网站？                 |
> | ---------------------------------------- | ---------------------------- |
> | 页面是 `.html` 文件，内容固定            | ✅ 是                         |
> | 有轮播图、动画、JS 交互                  | ✅ 可以是                     |
> | 用 JavaScript 调用 API 显示数据          | ✅ 可以是（现代静态网站常见） |
> | 服务器端生成页面（如 PHP、JSP）          | ❌ 不是                       |
> | 依赖数据库动态生成内容                   | ❌ 不是                       |
> | 用户登录、评论、购物车（在服务器端处理） | ❌ 不是                       |
>
> ---
>
> ### 🎯 回到你的问题：
>
> > “有轮播图，能向后端发送请求的算静态网站吗？”
>
> ✅ **答案是：有可能是！**
>
> 只要：
>
> 1. 页面是预先生成的 HTML 文件（不是服务器实时生成）
> 2. 轮播图是前端 JS 实现
> 3. “向后端发送请求” 是浏览器通过 JavaScript 调用**外部 API**（比如获取评论、天气、搜索），而不是你的服务器在处理逻辑
>
> 👉 那它就是一个**现代静态网站**，非常常见且高效！
>
> ---
>
> 如果你告诉我你用的是什么技术（比如 WordPress？Vue？GitHub Pages？），我可以更具体地判断 😊



# 技术选型



* **方案1（本网站方案）**

  **springboot+vue高度定制的博客**

  

* 方案2

  直接用现成的网站系统（框架），比如WordPress，
  已经编写好了，局限性比较大、有些地方不能自定义





一些手段

比文云官网建站

![image-20251011163753647](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011163753647.png)







# 数据库设计





#### user

用户表，用于存储用户信息。具体表结构如下：

| 字段名          | 数据类型      | 说明               | 备注                                    |      |
| --------------- | ------------- | ------------------ | --------------------------------------- | ---- |
| id              | bigint        | 主键               | 自增                                    |      |
| username        | varchar(32)   | 用户名             | 唯一                                    |      |
| password        | varchar(255)  | 密码               | 不要存明文密码! 存哈希值                |      |
| phone           | varchar(11)   | 手机号             |                                         |      |
| uk_phone        |               | 手机号唯一**索引** | 加快查询速度                            |      |
| email           | varchar(100)  |                    | 邮箱，可用于订阅文章，必须唯一          |      |
| avatar          | varchar(1000) | 头像图片路径       |                                         | 可选 |
| gender          | tinyint       | 性别               | 约定：0保密/未知 1男 2女                | 可选 |
| status          | tinyint       | 账号状态           | 0正常  1锁定                            | 必须 |
| last_login_time | datetime      | 最后登录时间       | 记录最后登录时间，用于安全审计          |      |
| role            | tinyint       | 角色               | 约定：0管理员  1作者 2用户（默认设为2） | 必须 |
| create_time     | datetime      | 创建时间           |                                         |      |
| update_time     | datetime      | 最后修改时间       |                                         |      |

> 
>
> > **“对 nickname、phone、email 建索引，加快查询” —— 这有必要吗？”**
>
> ✅ **答案是：**  
> 👉 **有必要！但要根据实际使用场景判断。**
>
> 我们来详细分析一下。
>
> ---
>
> #### ✅ 一、为什么建索引？（先说结论）
>
> | 字段       | 是否建议建索引   | 原因                               |
> | ---------- | ---------------- | ---------------------------------- |
> | `phone`    | ✅ **强烈建议**   | 注册/登录时常用，必须快速查找      |
> | `email`    | ✅ **强烈建议**   | 登录、找回密码时用，唯一性要求高   |
> | `nickname` | ⚠️ **视情况而定** | 查询频率低 → 可不建；频繁搜索 → 建 |
>
> ---
>
> #### 🔍 二、逐个分析
>
> #### 1. ✅ `phone`（手机号）—— 必须建索引
>
> ✅ 为什么？
>
> - 用户注册、登录、找回密码时会通过手机号查询
> - 如果没有索引，查一个手机号要扫描全表（O(n)），非常慢
> - 通常还要求 **唯一**（不能重复注册）
>
> 📌 推荐：
>
> ```sql
> ALTER TABLE user ADD UNIQUE INDEX uk_phone (phone);
> ```
>
> > 使用 `UNIQUE` 索引，防止重复注册
>
> ---
>
> #### 2. ✅ `email`（邮箱）—— 必须建索引
>
> ✅ 为什么？
>
> - 登录、找回密码、绑定邮箱等操作都会用到
> - 同样需要快速定位用户
> - 一般也要求唯一
>
> 📌 推荐：
>
> ```sql
> ALTER TABLE user ADD UNIQUE INDEX uk_email (email);
> ```
>
> ---
>
> #### 3. ⚠️ `nickname`（用户名）—— **可建可不建，看业务需求**
>
> ##### ❌ 不建索引的情况：
>
> - 你从不按用户名搜索（比如：`SELECT * FROM user WHERE nickname = '张三'`）
> - 用户名只是展示，不用于登录或查询
> - 数据量小（< 10万条），全表扫描也快
>
> ##### ✅ 建索引的情况：
>
> - 用户可以按昵称搜索（如博客系统中“搜索用户”功能）
> - 搜索框支持模糊查询（如 `%张%`）→ 需要索引（但注意：`LIKE '%张%'` 无法走索引）
> - 数据量大（> 10万），频繁查询
>
> ##### 📌 建议：
>
> - 如果有搜索功能 → 建普通索引
> - 如果只是展示 → 可不建
>
> ```sql
> ALTER TABLE user ADD INDEX idx_nickname (nickname);
> ```
>
> > 💡 注意：`LIKE '张%'` 可以走索引，但 `LIKE '%张%'` 不能
>
> ---
>
> #### 🧠 三、索引的代价（别盲目建）
>
> 虽然索引能加快查询，但也有成本：
>
> | 成本             | 说明                              |
> | ---------------- | --------------------------------- |
> | 📦 占空间         | 每个索引都占用磁盘空间            |
> | ⏱️ 写性能下降     | 插入、更新、删除时要维护索引      |
> | 🔍 查询优化器选择 | 太多索引可能让 MySQL 选错执行计划 |
>
> 📌 所以：**只在真正需要的地方建索引！**
>
> ---
>
> #### ✅ 四、总结：要不要建？
>
> | 字段       | 是否建索引   | 推荐做法                       |
> | ---------- | ------------ | ------------------------------ |
> | `phone`    | ✅ **必须建** | `UNIQUE INDEX`，防止重复注册   |
> | `email`    | ✅ **必须建** | `UNIQUE INDEX`，登录用         |
> | `nickname` | ⚠️ **视情况** | 如果有搜索功能就建，否则可不建 |
>
> ---
>
> #### 📌 实际建议（基于你的博客系统）
>
> 假设你的博客系统有以下功能：
>
> - 用户注册（手机号/邮箱）
> - 用户登录（手机号/邮箱）
> - 用户个人主页（显示昵称）
> - 搜索用户（如“找叫‘张三’的人”）
>
> 👉 那么你应该：
>
> ```sql
> -- 强烈推荐
> ALTER TABLE user 
> ADD UNIQUE INDEX uk_phone (phone),
> ADD UNIQUE INDEX uk_email (email);
> 
> -- 如果有搜索功能，推荐加
> ALTER TABLE user 
> ADD INDEX idx_nickname (nickname);
> ```
>
> ---
>
> #### ✅ 最佳实践建议
>
> 1. **先写 SQL 查询语句**，再决定是否建索引
>
>    ```sql
>    SELECT * FROM user WHERE phone = '13800138000';
>    ```
>
>    → 这种查询必须建索引！
>
> 2. **用 `EXPLAIN` 查看执行计划**
>
>    ```sql
>    EXPLAIN SELECT * FROM user WHERE phone = '138...';
>    ```
>
>    → 如果看到 `Using where` 而不是 `Using index`，说明没走索引
>
> 3. **不要为所有字段建索引！**
>
>    - 优先考虑：**查询条件中的字段**
>    - 避免：`UPDATE` 和 `INSERT` 频繁的字段上建索引
>
> ---
>
> #### ✅ 结论
>
> > ✅ **对 phone、email 建索引：非常必要！**  
> > ⚠️ **对 nickname 建索引：视业务而定，如果要搜索就建，否则可省略**
>
> ---
>
> 🎯 **下一步建议**：
> 如果你打算用 Navicat 设计表，可以在“索引”选项卡里添加这些索引，Navicat 会自动生成 SQL。
>
> 需要我帮你生成完整的建表 + 索引 SQL 脚本吗？我可以直接给你 👇



#### user_social_link

存放用户提供的联系方式

| 字段名      | 数据类型     | 说明                                                         | 备注 |
| ----------- | ------------ | ------------------------------------------------------------ | ---- |
| id          | bigint       |                                                              |      |
| user_id     | bigint       |                                                              |      |
| platform    | varchar(10)  | 'WECHAT', 'QQ', 'GITHUB', 'WEIBO'                            |      |
| content     | varchar(200) | 如果希望作者通过联系方式联系到自己，可以选择填写(50个字以内) |      |
| create_time | datetime     |                                                              |      |
| update_time | datetime     |                                                              |      |



#### user_article

存放用户和文章点赞、收藏直接的关联关系

| 字段名      | 数据类型   | 说明       | 备注             |
| ----------- | ---------- | ---------- | ---------------- |
| user_id     |            |            |                  |
| article_id  |            |            |                  |
| is_liked    | tinyint(1) | 是否点赞了 | 0未点赞  1点赞了 |
| is_favorite | tinyint(1) | 是否收藏过 | 0未点赞  1点赞了 |
|             |            |            |                  |



#### article

文章信息表。具体表结构如下：

| 字段名         | 数据类型      | 说明         | 备注                                                         |      |
| -------------- | ------------- | ------------ | ------------------------------------------------------------ | ---- |
| id             | bigint        | 主键         | 自增                                                         |      |
| user_id        | bigint        | 用户(作者)id |                                                              |      |
| title          | varchar(255)  | 标题         |                                                              | 必须 |
| content        | text          | 文章内容     |                                                              | 必须 |
| cover_image    | varchar(600 ) | 封面图片路径 |                                                              |      |
| tags_id        | int           | 文章标签id   |                                                              |      |
| tags_name      | varchar(100)  | 文章标签名   | 冗余字段                                                     |      |
| category_id    | int           | 文章分为     |                                                              |      |
| like_count     | int           | 点赞数       | 默认0                                                        |      |
| favorite_count | int           | 收藏数       | 默认0                                                        |      |
| view_count     | int           | 评论数       | 默认0                                                        |      |
| slug           | varchar(255)  | URL标识符    |                                                              |      |
| is_top         | tinyint       | 是否置顶     | 用来实现置顶文章功能<br />0不置顶   1置顶                    |      |
| status         | tinyint       | 状态         | **0正常 1待审核  2草稿<br />**（需要管理员审核之后才能展示） |      |
| create_time    | datetime      | 创建时间     |                                                              |      |
| update_time    | datetime      | 最后修改时间 |                                                              |      |

> 博客作者很少，暂时不添加冗余字段提升性能，直接多表联查
>
> 图片(文章内图片和封面图片)存在OSS，不存数据库

> title



> #### 什么是slug
>
>
> ![image-20251011184918402](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011184918402.png)
>
> ![image-20251011184904213](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011184904213.png)
>
> ![image-20251011184954617](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011184954617.png)
>
> 
>
> 

#### article_tags

| 字段名     | 数据类型     | 说明 | 备注     |
| ---------- | ------------ | ---- | -------- |
| tags_id    | int          |      |          |
| tags_name  | varchar(100) |      | 冗余字段 |
| article_id | bigint       |      |          |

> 这里特别注意，tags_id不要设成主键、不要自动递增，不然后面会报错，没办法正常插入同一个标签下的文章
>
> 





#### tags

文章分类表。具体表结构如下：

| 字段名      | 数据类型     | 说明                       | 备注        |
| ----------- | ------------ | -------------------------- | ----------- |
| id          | int          | 主键                       | 自增        |
| name        | varchar(100) |                            |             |
| slug        | varchar(255) | URL标识符                  |             |
| status      | tinyint(1)   | 还是增加一个status字段方便 | 0正常 1禁用 |
| create_time | datetime     | 创建时间                   |             |
| update_time | datetime     | 最后修改时间               |             |









#### category

分类

| 字段名      | 数据类型      | 说明          | 备注                             |
| ----------- | ------------- | ------------- | -------------------------------- |
| id          | int           |               |                                  |
| name        | varchar(32)   |               |                                  |
| sort        | tinyint(1)    |               | 用于排序                         |
| slug        | varchar(255)  | URL标识符     |                                  |
| status      | tinyint(1)    | 0正常 1未启用 | 如果当前分类下有文章就展示并启用 |
| create_time | LocalDateTime |               |                                  |
| update_time | LocalDateTime |               |                                  |







#### comments

存储评论信息。具体表结构如下：

| 字段名         | 数据类型    | 说明               | 备注                         |
| -------------- | ----------- | ------------------ | ---------------------------- |
| id             | bigint      | 主键               | 自增                         |
| article_id     | bigint      | 文章id             | [关联]这个评论所属的文章     |
| user_id        | bigint      | 用户id             | [关联]发出这个评论的用户     |
| username       | varchar(32) | 冗余字段           |                              |
| reply_id       | bigint      | 该评论回复的评论id | 如果是第一级评论该值就为null |
| reply_username | varchar(32) | 冗余字段           |                              |
| content        | tex\        | 评论内容           |                              |
| like_count     | int         | 点赞数             | 默认0                        |
| status         | tinyint     | 评论状态           | 0正常 1不展示(软删除)        |
| create_time    | datetime    | 创建时间           |                              |



#### (links)

友情链接

| 字段名      | 数据类型 | 说明     | 备注 |
| ----------- | -------- | -------- | ---- |
| id          |          |          |      |
| name        |          |          |      |
| url         |          |          |      |
| avatar      |          |          |      |
| sort_order  |          | 用于排序 |      |
| create_time |          |          |      |
|             |          |          |      |
|             |          |          |      |





# 数据库管理工具

#### 怎么选

> 这是一个非常实用的问题！**DataGrip 和 Navicat** 都是优秀的数据库管理工具，适合用来设计和管理数据库表。选择哪一个，取决于你的 **使用习惯、预算、功能需求、操作系统** 和 **开发环境**。
>
> ---
>
> ## ✅ 先说结论（快速选择）
>
> | 你的需求                                           | 推荐工具                            |
> | -------------------------------------------------- | ----------------------------------- |
> | ✅ 跨平台、智能补全、IDE 风格、 JetBrains 用户      | **DataGrip**                        |
> | ✅ 中文界面、操作简单、性价比高、国内用户           | **Navicat**                         |
> | ✅ 只用 MySQL，追求稳定和易用                       | **Navicat for MySQL**               |
> | ✅ 多数据库（MySQL + PostgreSQL + Redis + MongoDB） | **DataGrip** 或 **Navicat Premium** |
> | ✅ 公司开发、团队协作、代码风格严谨                 | **DataGrip**                        |
> | ✅ 个人使用、不想花太多钱、需要数据同步/建模        | **Navicat**                         |
>
> ---
>
> ## 🔍 详细对比：DataGrip vs Navicat
>
> | 功能/特性             | **DataGrip**（JetBrains）                                    | **Navicat**（Premium）                                       |
> | --------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
> | 🌐 支持数据库类型      | ✅ MySQL, PostgreSQL, Oracle, SQL Server, SQLite, Redis, MongoDB, Snowflake 等 | ✅ MySQL, PostgreSQL, Oracle, SQL Server, SQLite, MongoDB, Redis（部分版本） |
> | 💻 跨平台              | ✅ Windows / macOS / Linux                                    | ✅ Windows / macOS / Linux（但 Linux 版功能较弱）             |
> | 🎨 界面风格            | IDE 风格（类似 IntelliJ）<br>偏技术、适合开发者              | 图形化、操作直观<br>适合 DBA 和初学者                        |
> | 🧠 智能提示            | ⭐⭐⭐⭐⭐<br>超强 SQL 补全、引用提示、错误检查                   | ⭐⭐⭐<br>基础补全，不如 DataGrip 智能                          |
> | 🛠️ 表设计（建模）      | ✅ 支持可视化表设计<br>但不如 Navicat 直观                    | ✅✅✅<br>拖拽式设计，外键关系清晰，**更适合建表**              |
> | 📊 数据查看与编辑      | ✅ 类似 IDE 的表格，支持过滤                                  | ✅✅<br>像 Excel 一样操作，更友好                              |
> | 🔄 数据同步/迁移       | ⚠️ 支持，但不如 Navicat 强大                                  | ✅✅✅<br>Navicat 的强项：数据同步、结构同步、备份计划          |
> | 🧩 可视化建模（ER 图） | ✅ 支持，但较基础                                             | ✅✅✅<br>ER 图清晰，可导出为图片/PDF                           |
> | 💰 价格                | 💵 较贵（约 $199/年）<br>学生可申请免费授权                   | 💵 性价比高（一次性买断约 ¥1500）<br>有中文版和本地支持       |
> | 🌍 中文支持            | ✅ 可汉化，但非官方完整中文                                   | ✅✅✅ 官方中文界面，适合中文用户                               |
> | 🔐 安全性              | ✅ 支持 SSH、SSL、密钥管理                                    | ✅ 支持，配置简单                                             |
> | 🧰 与开发工具集成      | ✅ 可与 IDEA、PyCharm 等无缝切换                              | ❌ 独立工具                                                   |
> | 📦 适合人群            | 开发者、JetBrains 用户、多数据库                             | DBA、运维、个人开发者、企业                                  |
>
> ---
>
> ## ✅ 建立数据库表：谁更适合？
>
> ### 如果你主要做 **建表、设计字段、画 ER 图、数据迁移**
>
> > ✅ **推荐 Navicat**
>
> - 拖拽式创建表
> - 外键关系一目了然
> - 支持“正向工程”（设计 → 生成 SQL）
> - 支持“反向工程”（数据库 → 生成模型）
> - 可导出 PDF 文档，方便团队交流
>
> 📌 **特别适合：**
>
> - 写毕业设计数据库
> - 做项目原型
> - 给产品经理展示数据结构
>
> ---
>
> ### 如果你更关注 **SQL 编写、代码质量、多数据库切换、与开发环境一致**
>
> > ✅ **推荐 DataGrip**
>
> - 智能 SQL 补全（像写代码一样）
> - 快速跳转到表定义、引用
> - 支持多种数据库标签页切换
> - 与 Git 集成更好（查看 SQL 历史）
> - 支持 REST 客户端、数据库版本控制
>
> 📌 **特别适合：**
>
> - 后端开发者
> - 使用多种数据库的项目
> - 需要频繁写复杂 SQL 的场景
>
> ---
>
> ## 🎁 免费替代方案（如果你不想花钱）
>
> | 工具                | 说明                                                |
> | ------------------- | --------------------------------------------------- |
> | **DBeaver**         | 开源免费，功能强大，支持多数据库，界面类似 DataGrip |
> | **MySQL Workbench** | MySQL 官方工具，免费，建模功能强，但只支持 MySQL    |
> | **pgAdmin**         | PostgreSQL 官方工具                                 |
> | **TablePlus**       | 界面美观，免费版功能受限，适合个人使用              |
>
> ---
>
> ## ✅ 我的建议（结合你的情况）
>
> 从你之前的提问来看，你在：
>
> - 写一个博客系统
> - 使用 MySQL + Redis
> - 关注数据库设计（建表）
> - 可能是个人开发者或学生
>
> ### 👉 推荐组合：
>
> #### 方案一（推荐）：**Navicat + .env 管理配置**
>
> - 用 Navicat 设计表、画 ER 图、导出文档
> - 用 `.env` 管理密码，避免泄露
> - 适合个人项目、快速开发
>
> #### 方案二（进阶）：**DataGrip + Git + 代码化建表（SQL 脚本）**
>
> - 用 DataGrip 写 SQL 脚本建表
> - 把 `.sql` 文件提交到 Git
> - 适合团队协作、追求工程化
>
> ---
>
> ## ✅ 最佳实践：不要只靠图形工具
>
> 无论你用 DataGrip 还是 Navicat，都建议：
>
> 1. ✅ **把建表语句保存为 `.sql` 文件**，提交到 Git
>
>    ```sql
>    -- migrations/001_create_posts.sql
>    CREATE TABLE posts ( ... );
>    ```
>
> 2. ✅ **不要只依赖图形界面操作**
>
>    - 图形工具可能出错或不一致
>    - SQL 脚本才是“唯一真相”
>
> ---
>
> ## ✅ 总结
>
> | 场景                           | 推荐工具                        |
> | ------------------------------ | ------------------------------- |
> | 🛠️ 快速建表、画 ER 图、数据迁移 | **Navicat**（更直观）           |
> | 💻 写 SQL、多数据库、开发者体验 | **DataGrip**（更智能）          |
> | 💰 想省钱                       | **DBeaver**（免费开源）         |
> | 📚 学习 MySQL                   | **MySQL Workbench**（官方免费） |
>
> ---
>
> 🎯 **最终建议**：
>
> > 如果你是**个人开发者或学生**，想快速建表、设计博客数据库，**Navicat 是更友好的选择**。  
> > 如果你是**专业开发者**，用 JetBrains 家族工具，追求代码级控制，选 **DataGrip**。
>
> 如果你告诉我你用的操作系统（Windows/macOS/Linux）和预算，我可以给你更具体的推荐 😊

* navicat









# 功能设计

## 游客模式

### 文章相关

* 可以转发文章
* 







## 用户模式





### 注册/登录

* 手机号作为账号
  手机号+密码  手机号+验证码 登录
* 微信直接扫码登录
* 使用**google或者github或gitee**登录
* 使用**邮箱**注册账号
  忘记密码可以使用邮箱找回

> 参考其他网站的登录方式，比如leetcode/csdn

### 文章相关

* 可以转发文章

* 个性化推荐

* 文章开头提供  AI Summary

* 用户可以收藏文章、可以发表评论

  > 提供基础的小表情（参考qq）

* 



### 个人信息

![image-20251015101203021](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251015101203021.png)















## 友链



* 可以申请友链
  我会收到邮箱通知

![image-20251015100709340](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251015100709340.png)

### 搜索

* 项目/文章搜索

  ![image-20251015100930969](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251015100930969.png)







待定

* （集成音乐播放器）

  ![image-20251015100836242](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251015100836242.png)





















# 接口概览

> 注意使用redis缓存和jwt校验



获取评论列表



新增评论



删除评论





















# 服务器选择

> ![image-20251011143746222](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011143746222.png)
>
> 实在想用自己的电脑作服务器：你有公网ip、或者做个内网穿透（内网穿透也需要租一台有公网ip的服务器）
>
> 专用服务器CPU性能比个人电脑好很多，内存好；专业



* 阿里云、腾讯云、

#### 服务器的选择

* 看CPU和内存（决定网站的运行速度[请求处理不过来就会导致卡顿]）

  如果网站需要消耗大量计算资源，那么推荐2C2G以上
  <u>如果只是单纯的静态页面，1C1G已经完全够用了</u>

* 看网站的前端静态资源，一般小网站这些静态资源在1-15MB之间，如果要让用户能流畅访问网站，至少需要5M以上的带宽

  > 不要选1M的，1M就只能挂一个后端，前端挂不上去(很卡)

  > ![image-20251011150110776](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011150110776.png)
  > **慎用，尽量不要用**
  >
  > > 比如有人恶意刷你网站的流量，导致流量包不仅用完了，还一直消耗你的流量，这种情况就会不断扣钱、让你欠费

#### 服务器的地域选择

![image-20251011150210658](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011150210658.png)

> 国内备案麻烦（工业信息化部备案）
> 但是香港服务器上防御很贵

#### (服务器备案)

* 云服务器ICP备案

  > 香港服务器不用服务器备案
  >
  > > 根据您提供的资料，关于香港服务器是否需要备案的问题，可以总结如下：
  > >
  > > **通常情况下，使用香港服务器不需要进行中国大陆的ICP（互联网内容提供商）备案。**
  > >
  > > 主要原因在于，香港作为中国的特别行政区，实行“一国两制”，拥有独立的法律体系和互联网管理政策。因此，部署在香港的服务器不受中国大陆工信部《ICP备案管理办法》的约束。
  > >
  > > ### 详细说明
  > >
  > > 1.  **免于大陆ICP备案**：
  > >     *   这是香港服务器最突出的优势之一。企业或个人在购买香港云服务器、虚拟主机或物理服务器后，可以立即部署网站或应用并上线使用，无需经历内地15-30天的备案等待期，实现业务的快速部署。
  > >     *   香港的云服务商通常会明确声明其服务“无需注册或备案”。
  > >
  > > 2.  **需遵守香港本地法规**：
  > >     *   虽然免除了大陆的备案要求，但用户仍必须确保其托管的内容和服务符合**香港特别行政区的法律法规**。
  > >     *   违法内容（如涉及赌博、色情、侵犯版权等）同样会被查处。香港有《电讯条例》（Cap. 106）等法规来规范电信服务，并通过通讯事务管理局（OFCA）进行监管。
  > >
  > > 3.  **潜在的其他备案要求**：
  > >     *   **公安备案**：有信息指出，如果您的网站服务对象包含中国大陆用户，根据《计算机信息网络国际联网安全保护管理办法》，可能需要向属地公安机关提交网站基本信息进行备案。但这通常流程简化，且不涉及严格的内容审查。
  > >     *   **域名实名认证**：如果您通过中国大陆的域名注册商购买域名，该域名本身仍需完成实名认证，但这与服务器的ICP备案是两个不同的概念。
  > >
  > > 4.  **主要优势**：
  > >     *   **快速上线**：省去漫长的备案审核时间。
  > >     *   **全球连接**：香港是亚太地区的网络枢纽，国际带宽优质，延迟低，适合面向全球或亚洲市场的业务。
  > >     *   **内容相对自由**：相比内地，香港的互联网环境更为宽松。
  > >     *   **数据安全**：受香港《个人资料（私隐）条例》（Cap. 486）保护。
  > >
  > > ### 总结
  > >
  > > 您可以放心，租用香港服务器**不需要进行中国大陆的ICP备案**，这是其核心优势。这使得它成为跨境电商、外贸企业、游戏公司以及希望快速上线项目的理想选择。
  > >
  > > 然而，“无需备案”不等于“无监管”。您必须确保业务内容合法合规，遵守**香港当地的法律法规**，并注意域名实名认证等其他相关要求。

  









* 网站空间方案

  ![image-20251011145112912](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011145112912.png)

  > 和自己服务器上搭一个nginx反向代理一样的（通过网站空间的代理访问到后端），区别是不能跑java、

  > 网站空间是一种Web托管服务，允许用户将自己的网站或应用程序托管在互联网上，以便其他用户可以通过浏览器访问。它类似于租用一片存储空间，用于存放网站的文件、图片、视频等资源。
  >
  > 网站空间的特点是：
  >
  > 1. **只能挂静态页面或做反向代理**：网站空间通常只能用于托管静态网页（如HTML、CSS、JavaScript文件），不能运行Java等需要特定环境的语言。如果需要运行动态网站，通常需要额外配置或使用其他服务。
  > 2. **价格低廉**：与云服务器相比，网站空间的价格通常更低，适合预算有限的小型项目或静态网站。
  > 3. **共享资源**：网站空间的网络带宽和服务器资源通常是共享的，可能会影响性能，特别是在流量高峰时段。
  > 4. **易于使用**：网站空间通常提供简单的控制面板，用户可以通过FTP等方式上传文件，无需复杂的服务器管理知识。
  > 5. **共用IP**：网站空间通常使用共享IP地址，因此需要域名解析来访问。

  













# 域名注册



* 原理

  域名会被浏览器解析成ip地址

  > 注册之后，还需要实名认证、ICP 备案、域名解析等步骤，您的网站/APP 才可以成功被外部访问

* 

  ![image-20251011151246495](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011151246495.png)

* ![image-20251011151525180](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011151525180.png)

  > 有些域名会备注在某些不能备案，看清楚

  > 一周-半个月

  ![image-20251011151714589](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011151714589.png)

  > 跨省需要提供证明（学生证明或工作证明等）
  >
  > 如果用的是香港服务器，不需要域名备案
  >
  > > 1. **一般情况**：如果服务器位于香港，且网站内容主要面向香港或海外用户，通常不需要进行中国大陆的ICP备案
  > >
  > >    。
  > >
  > > 2. **面向中国大陆用户**：如果网站内容主要面向中国大陆用户，即使服务器在香港，也可能需要进行ICP备案
  > >
  > >    。但根据腾讯云的说明，如果域名解析指向香港服务器，则不需要备案
  > >
  > >    。
  > >
  > > 3. **.cn域名的特殊要求**：如果使用的是.cn域名，即使服务器在香港，也需要进行备案，因为.cn域名属于中国域名，受中国大陆法规管理
  > >
  > >    。
  > >
  > > 4. **行业特定要求**：某些行业（如金融、医疗等）可能需要额外的许可或认证，即使服务器在香港
  > >
  > >    。
  > >
  > > 5. **备案流程**：如果需要备案，通常需要提供域名注册证书、服务器租赁合同、身份证明等材料，并通过备案服务提供商提交申请

  * 仅了解

    > ![image-20251011153557379](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011153557379.png)

  > #### 域名备案和服务器备案的区别
  >
  > 域名备案和服务器备案是两个不同的概念，主要区别如下：
  >
  > ##### 域名备案
  >
  > 1. **定义**：域名备案是指将域名注册信息提交给相关管理机构（如中国的ICP备案系统），以合法使用该域名提供互联网服务。
  > 2. **目的**：确保域名的合法性和可追溯性，便于监管部门管理互联网内容。
  > 3. **适用范围**：适用于所有在中国大陆境内提供互联网服务的域名，无论其服务器位于哪里。
  > 4. **流程**：通过域名注册商或备案服务提供商提交备案申请，包括提供域名注册信息、网站负责人身份信息等。
  > 5. **法律责任**：未备案的域名在中国大陆境内可能无法正常使用，且可能面临法律风险。
  >
  > ##### 服务器备案
  >
  > 1. **定义**：服务器备案是指将服务器的信息（如服务器位置、用途、运营商等）提交给相关管理机构，以合法使用该服务器提供互联网服务。
  > 2. **目的**：确保服务器的合法性和可追溯性，便于监管部门管理互联网服务。
  > 3. **适用范围**：适用于所有在中国大陆境内提供互联网服务的服务器，包括物理服务器和云服务器。
  > 4. **流程**：通过服务器提供商提交备案申请，包括提供服务器相关信息、网站负责人身份信息等。
  > 5. **法律责任**：未备案的服务器在中国大陆境内可能无法正常使用，且可能面临法律风险。
  >
  > ##### 主要区别
  >
  > 1. **对象不同**：
  >    - 域名备案针对的是域名本身，确保域名的合法性和可追溯性。
  >    - 服务器备案针对的是服务器本身，确保服务器的合法性和可追溯性。
  >
  > 2. **适用场景**：
  >    - 域名备案是域名在中国大陆境内合法使用的必要条件。
  >    - 服务器备案是服务器在中国大陆境内合法使用的必要条件。
  >
  > 3. **备案流程**：
  >    - 域名备案通常通过域名注册商或备案服务提供商进行。
  >    - 服务器备案通常通过服务器提供商进行。
  >
  > 4. **管理机构**：
  >    - 域名备案和服务器备案的管理机构可能不同，但在中国大陆境内通常由工信部及相关机构管理。
  >
  > 在实际应用中，如果网站在中国大陆境内提供服务，通常需要同时进行域名备案和服务器备案，以确保网站的合法性和正常访问。
  >
  > 
  >
  > 
  >
  > 































# 网站防护



* 

  ![image-20251011153725640](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011153725640.png)

  

  > 刷流量：针对流量计费的网站恶意攻击

  

### 防御方法

![image-20251011153829733](C:\Users\毕哲晖\AppData\Roaming\Typora\typora-user-images\image-20251011153829733.png)

> 买高防服务器，（一年几千到几万元之间）
>
> 挂CDN(推荐学生)：用户只能访问CDN，然后通过CDN访问服务器（像一个安全过滤网）
> 就算攻击也是攻击CDN
> 	<u>注意：使用这种方法，你的服务器ip地址不能被别人知道了，否则他就可以绕过CDN直接打你的服务器</u>









* cc的应对

  自己后端处理，redis中计数，达到一定的次数就封掉这个ip，不然别人访问

  

