import{i as D,r as N,j as S,z as T,l as U,A as V,c as p,o as i,b as e,J as j,F as E,n as F,M as _,a as t,d as s,t as f,w as n,u as M,e as d,g as H,ap as P,h as c,p as J}from"./index-Cr_Or7lo.js";import{a as O}from"./avatar-Br5af8Id.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},q={class:"mt-8"},G={class:"px-4 space-y-2"},K={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},Q={class:"flex items-center justify-between px-6 py-4"},X={class:"flex items-center"},Y={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},Z={class:"flex items-center space-x-4"},ee={class:"flex items-center space-x-2 cursor-pointer"},te=["src"],ae={class:"text-gray-700 dark:text-gray-300"},oe={class:"flex-1 p-6"},ne={__name:"AdminLayout",setup(se){const g=M(),w=T(),m=D(),o=N(!0),k=O,h=[{name:"dashboard",path:"/admin",label:"儀表盤",icon:"House"},{name:"articles",path:"/admin/articles",label:"文章管理",icon:"Document"},{name:"categories",path:"/admin/categories",label:"分類管理",icon:"Collection"},{name:"tags",path:"/admin/tags",label:"標籤管理",icon:"PriceTag"},{name:"comments",path:"/admin/comments",label:"評論管理",icon:"ChatDotRound"},{name:"tree-holes",path:"/admin/tree-holes",label:"樹洞管理",icon:"ChatLineRound"},{name:"updates",path:"/admin/updates",label:"更新記錄",icon:"Clock"},{name:"links",path:"/admin/links",label:"友鏈管理",icon:"Link"}],C=S(()=>{const r=h.find(a=>a.path===w.path);return r?r.label:"管理后台"}),b=()=>{o.value=!o.value},L=()=>{g.push("/home")},z=async r=>{r==="logout"&&(await m.logout(),g.push("/login"))},u=()=>{window.innerWidth<1024?o.value=!1:o.value=!0};return U(()=>{u(),window.addEventListener("resize",u)}),V(()=>{window.removeEventListener("resize",u)}),(r,a)=>{const v=s("el-icon"),A=s("router-link"),x=s("el-button"),y=s("el-dropdown-item"),I=s("el-dropdown-menu"),R=s("el-dropdown"),B=s("router-view");return i(),p("div",$,[e("aside",{class:_(["fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out",{"-translate-x-full":!o.value,"translate-x-0":o.value}])},[a[0]||(a[0]=e("div",{class:"flex items-center justify-center h-16 px-4 bg-primary text-white"},[e("h1",{class:"text-xl font-bold"},"管理后台")],-1)),e("nav",q,[e("div",G,[(i(),p(E,null,F(h,l=>t(A,{key:l.name,to:l.path,class:_(["flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-primary text-white":r.$route.path===l.path}])},{default:n(()=>[t(v,{class:"mr-3"},{default:n(()=>[(i(),H(P(l.icon)))]),_:2},1024),d(" "+f(l.label),1)]),_:2},1032,["to","class"])),64))])])],2),e("div",{class:_(["flex flex-col flex-1 ml-0 transition-all duration-300",{"ml-64":o.value}])},[e("header",K,[e("div",Q,[e("div",X,[t(x,{onClick:b,class:"mr-4",icon:o.value?"ArrowLeft":"Menu",circle:""},null,8,["icon"]),e("h2",Y,f(C.value),1)]),e("div",Z,[t(x,{onClick:L,type:"primary",plain:""},{default:n(()=>[...a[1]||(a[1]=[d(" 返回前台 ",-1)])]),_:1}),t(R,{onCommand:z},{dropdown:n(()=>[t(I,null,{default:n(()=>[t(y,{command:"profile"},{default:n(()=>[...a[2]||(a[2]=[d("个人设置",-1)])]),_:1}),t(y,{command:"logout",divided:""},{default:n(()=>[...a[3]||(a[3]=[d("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[e("div",ee,[e("img",{src:c(m).userInfo?.avatar||c(k),alt:"User avatar",class:"w-8 h-8 rounded-full"},null,8,te),e("span",ae,f(c(m).userInfo?.username||"Admin"),1),t(v,null,{default:n(()=>[t(c(J))]),_:1})])]),_:1})])])]),e("main",oe,[t(B)])],2),o.value?(i(),p("div",{key:0,class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:b})):j("",!0)])}}},de=W(ne,[["__scopeId","data-v-c32a94b3"]]);export{de as default};
