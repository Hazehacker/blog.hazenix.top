import{i as N,r as R,H as S,x as T,j as U,I as V,c as p,o as i,b as e,B as j,F as E,C as F,J as _,a as t,f as r,D as f,w as n,u as H,l as d,g as M,an as P,h as c,n as J}from"./index-BBqYyNLz.js";import{a as O}from"./avatar-Br5af8Id.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},q={class:"mt-8"},G={class:"px-4 space-y-2"},K={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},Q={class:"flex items-center justify-between px-6 py-4"},X={class:"flex items-center"},Y={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},Z={class:"flex items-center space-x-4"},ee={class:"flex items-center space-x-2 cursor-pointer"},te=["src"],ae={class:"text-gray-700 dark:text-gray-300"},oe={class:"flex-1 p-6"},ne={__name:"AdminLayout",setup(se){const g=H(),w=T(),u=N(),o=R(!0),k=O,h=[{name:"dashboard",path:"/admin",label:"仪表盘",icon:"House"},{name:"articles",path:"/admin/articles",label:"文章管理",icon:"Document"},{name:"categories",path:"/admin/categories",label:"分类管理",icon:"Collection"},{name:"tags",path:"/admin/tags",label:"标签管理",icon:"PriceTag"},{name:"comments",path:"/admin/comments",label:"评论管理",icon:"ChatDotRound"},{name:"updates",path:"/admin/updates",label:"更新记录",icon:"Clock"},{name:"links",path:"/admin/links",label:"友链管理",icon:"Link"}],C=S(()=>{const s=h.find(a=>a.path===w.path);return s?s.label:"管理后台"}),b=()=>{o.value=!o.value},L=()=>{g.push("/home")},z=s=>{s==="logout"?(u.logout(),g.push("/login")):s==="profile"&&console.log("跳转到个人设置")},m=()=>{window.innerWidth<1024?o.value=!1:o.value=!0};return U(()=>{m(),window.addEventListener("resize",m)}),V(()=>{window.removeEventListener("resize",m)}),(s,a)=>{const x=r("el-icon"),I=r("router-link"),v=r("el-button"),y=r("el-dropdown-item"),A=r("el-dropdown-menu"),B=r("el-dropdown"),D=r("router-view");return i(),p("div",$,[e("aside",{class:_(["fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out",{"-translate-x-full":!o.value,"translate-x-0":o.value}])},[a[0]||(a[0]=e("div",{class:"flex items-center justify-center h-16 px-4 bg-primary text-white"},[e("h1",{class:"text-xl font-bold"},"管理后台")],-1)),e("nav",q,[e("div",G,[(i(),p(E,null,F(h,l=>t(I,{key:l.name,to:l.path,class:_(["flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-primary text-white":s.$route.path===l.path}])},{default:n(()=>[t(x,{class:"mr-3"},{default:n(()=>[(i(),M(P(l.icon)))]),_:2},1024),d(" "+f(l.label),1)]),_:2},1032,["to","class"])),64))])])],2),e("div",{class:_(["flex flex-col flex-1 ml-0 transition-all duration-300",{"ml-64":o.value}])},[e("header",K,[e("div",Q,[e("div",X,[t(v,{onClick:b,class:"mr-4",icon:o.value?"ArrowLeft":"Menu",circle:""},null,8,["icon"]),e("h2",Y,f(C.value),1)]),e("div",Z,[t(v,{onClick:L,type:"primary",plain:""},{default:n(()=>[...a[1]||(a[1]=[d(" 返回前台 ",-1)])]),_:1}),t(B,{onCommand:z},{dropdown:n(()=>[t(A,null,{default:n(()=>[t(y,{command:"profile"},{default:n(()=>[...a[2]||(a[2]=[d("个人设置",-1)])]),_:1}),t(y,{command:"logout",divided:""},{default:n(()=>[...a[3]||(a[3]=[d("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[e("div",ee,[e("img",{src:c(u).userInfo?.avatar||c(k),alt:"User avatar",class:"w-8 h-8 rounded-full"},null,8,te),e("span",ae,f(c(u).userInfo?.username||"Admin"),1),t(x,null,{default:n(()=>[t(c(J))]),_:1})])]),_:1})])])]),e("main",oe,[t(D)])],2),o.value?(i(),p("div",{key:0,class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:b})):j("",!0)])}}},de=W(ne,[["__scopeId","data-v-85a8a04c"]]);export{de as default};
