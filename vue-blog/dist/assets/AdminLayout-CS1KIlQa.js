import{r as E,K as N,Q as R,o as S,a as T,c as p,f as e,D as U,F as V,E as j,X as _,e as t,j as r,G as f,l as n,h as F,b as i,q as d,k as H,a9 as M,n as c,t as P}from"./index-BjRrW_j8.js";import{u as q}from"./user-CHPnUmjS.js";import{a as G}from"./avatar-Br5af8Id.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Q={class:"mt-8"},W={class:"px-4 space-y-2"},X={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},$={class:"flex items-center justify-between px-6 py-4"},J={class:"flex items-center"},Y={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},Z={class:"flex items-center space-x-4"},ee={class:"flex items-center space-x-2 cursor-pointer"},te=["src"],oe={class:"text-gray-700 dark:text-gray-300"},ae={class:"flex-1 p-6"},ne={__name:"AdminLayout",setup(se){const g=F(),w=R(),u=q(),a=E(!0),k=G,h=[{name:"dashboard",path:"/admin",label:"仪表盘",icon:"House"},{name:"articles",path:"/admin/articles",label:"文章管理",icon:"Document"},{name:"categories",path:"/admin/categories",label:"分类管理",icon:"Collection"},{name:"tags",path:"/admin/tags",label:"标签管理",icon:"PriceTag"},{name:"comments",path:"/admin/comments",label:"评论管理",icon:"ChatDotRound"},{name:"updates",path:"/admin/updates",label:"更新记录",icon:"Clock"},{name:"links",path:"/admin/links",label:"友链管理",icon:"Link"}],C=N(()=>{const s=h.find(o=>o.path===w.path);return s?s.label:"管理后台"}),b=()=>{a.value=!a.value},L=()=>{g.push("/index")},z=s=>{s==="logout"?(u.logout(),g.push("/login")):s==="profile"&&console.log("跳转到个人设置")},m=()=>{window.innerWidth<1024?a.value=!1:a.value=!0};return S(()=>{m(),window.addEventListener("resize",m)}),T(()=>{window.removeEventListener("resize",m)}),(s,o)=>{const x=r("el-icon"),A=r("router-link"),v=r("el-button"),y=r("el-dropdown-item"),D=r("el-dropdown-menu"),I=r("el-dropdown"),B=r("router-view");return i(),p("div",O,[e("aside",{class:_(["fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out",{"-translate-x-full":!a.value,"translate-x-0":a.value}])},[o[0]||(o[0]=e("div",{class:"flex items-center justify-center h-16 px-4 bg-primary text-white"},[e("h1",{class:"text-xl font-bold"},"管理后台")],-1)),e("nav",Q,[e("div",W,[(i(),p(V,null,j(h,l=>t(A,{key:l.name,to:l.path,class:_(["flex items-center px-4 py-3 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-primary text-white":s.$route.path===l.path}])},{default:n(()=>[t(x,{class:"mr-3"},{default:n(()=>[(i(),H(M(l.icon)))]),_:2},1024),d(" "+f(l.label),1)]),_:2},1032,["to","class"])),64))])])],2),e("div",{class:_(["flex flex-col flex-1 ml-0 transition-all duration-300",{"ml-64":a.value}])},[e("header",X,[e("div",$,[e("div",J,[t(v,{onClick:b,class:"mr-4",icon:a.value?"ArrowLeft":"Menu",circle:""},null,8,["icon"]),e("h2",Y,f(C.value),1)]),e("div",Z,[t(v,{onClick:L,type:"primary",plain:""},{default:n(()=>[...o[1]||(o[1]=[d(" 返回前台 ",-1)])]),_:1}),t(I,{onCommand:z},{dropdown:n(()=>[t(D,null,{default:n(()=>[t(y,{command:"profile"},{default:n(()=>[...o[2]||(o[2]=[d("个人设置",-1)])]),_:1}),t(y,{command:"logout",divided:""},{default:n(()=>[...o[3]||(o[3]=[d("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[e("div",ee,[e("img",{src:c(u).userInfo?.avatar||c(k),alt:"User avatar",class:"w-8 h-8 rounded-full"},null,8,te),e("span",oe,f(c(u).userInfo?.username||"Admin"),1),t(x,null,{default:n(()=>[t(c(P))]),_:1})])]),_:1})])])]),e("main",ae,[t(B)])],2),a.value?(i(),p("div",{key:0,class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:b})):U("",!0)])}}},ce=K(ne,[["__scopeId","data-v-6cb312e8"]]);export{ce as default};
