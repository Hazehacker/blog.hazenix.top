import{r as x,o as D,c as i,f as t,e,l as d,j as y,G as l,F as b,E as f,b as n,n as c,$ as h,a0 as k,_ as w,P as C,q as A,v as R}from"./index-BjRrW_j8.js";import{a as p}from"./admin-C4GflvBV.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"space-y-6"},j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},B={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},E={class:"flex items-center"},S={class:"p-3 rounded-full bg-blue-100 dark:bg-blue-900"},V={class:"ml-4"},F={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},L={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},M={class:"flex items-center"},q={class:"p-3 rounded-full bg-green-100 dark:bg-green-900"},G={class:"ml-4"},I={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},P={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},H={class:"flex items-center"},J={class:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900"},K={class:"ml-4"},O={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},Q={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},U={class:"flex items-center"},W={class:"p-3 rounded-full bg-purple-100 dark:bg-purple-900"},X={class:"ml-4"},Y={class:"text-2xl font-semibold text-gray-900 dark:text-gray-100"},Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},tt={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},st={class:"p-6"},et={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},at={key:1,class:"space-y-4"},dt={class:"flex-1"},ot={class:"font-medium text-gray-900 dark:text-gray-100"},rt={class:"text-sm text-gray-500 dark:text-gray-400"},lt={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},it={class:"p-6"},nt={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},ct={key:1,class:"space-y-4"},gt={class:"flex items-center justify-between mb-2"},ut={class:"font-medium text-gray-900 dark:text-gray-100"},_t={class:"text-sm text-gray-500 dark:text-gray-400"},mt={class:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2"},xt={class:"bg-white dark:bg-gray-800 rounded-lg shadow"},yt={class:"p-6"},pt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},vt={class:"text-center"},bt={class:"text-center"},ft={class:"text-center"},ht={class:"text-center"},kt={class:"text-center"},wt={__name:"Dashboard",setup(Ct){const g=x({totalArticles:0,totalCategories:0,totalTags:0,totalComments:0}),_=x([]),m=x([]),v=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=async()=>{try{const o=await p.getStats();g.value=o.data;const s=await p.getRecentArticles({limit:5});_.value=s.data;const r=await p.getRecentComments({limit:5});m.value=r.data}catch(o){console.error("加载仪表盘数据失败:",o),ElMessage.error("加载数据失败")}};return D(()=>{z()}),(o,s)=>{const r=y("el-icon"),$=y("el-tag"),u=y("el-button");return n(),i("div",N,[t("div",j,[t("div",B,[t("div",E,[t("div",S,[e(r,{class:"text-blue-600 dark:text-blue-400",size:"24"},{default:d(()=>[e(c(h))]),_:1})]),t("div",V,[s[5]||(s[5]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"总文章数",-1)),t("p",F,l(g.value.totalArticles),1)])])]),t("div",L,[t("div",M,[t("div",q,[e(r,{class:"text-green-600 dark:text-green-400",size:"24"},{default:d(()=>[e(c(k))]),_:1})]),t("div",G,[s[6]||(s[6]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"分类数量",-1)),t("p",I,l(g.value.totalCategories),1)])])]),t("div",P,[t("div",H,[t("div",J,[e(r,{class:"text-yellow-600 dark:text-yellow-400",size:"24"},{default:d(()=>[e(c(w))]),_:1})]),t("div",K,[s[7]||(s[7]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"标签数量",-1)),t("p",O,l(g.value.totalTags),1)])])]),t("div",Q,[t("div",U,[t("div",W,[e(r,{class:"text-purple-600 dark:text-purple-400",size:"24"},{default:d(()=>[e(c(C))]),_:1})]),t("div",X,[s[8]||(s[8]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"评论数量",-1)),t("p",Y,l(g.value.totalComments),1)])])])]),t("div",Z,[t("div",tt,[s[9]||(s[9]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"最新文章")],-1)),t("div",st,[_.value.length===0?(n(),i("div",et," 暂无文章 ")):(n(),i("div",at,[(n(!0),i(b,null,f(_.value,a=>(n(),i("div",{key:a.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("div",dt,[t("h4",ot,l(a.title),1),t("p",rt,l(v(a.createTime)),1)]),e($,{type:a.status==="published"?"success":"warning",size:"small"},{default:d(()=>[A(l(a.status===0?"已发布":"草稿"),1)]),_:2},1032,["type"])]))),128))]))])]),t("div",lt,[s[10]||(s[10]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"最新评论")],-1)),t("div",it,[m.value.length===0?(n(),i("div",nt," 暂无评论 ")):(n(),i("div",ct,[(n(!0),i(b,null,f(m.value,a=>(n(),i("div",{key:a.id,class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[t("div",gt,[t("span",ut,l(a.username),1),t("span",_t,l(v(a.createTime)),1)]),t("p",mt,l(a.content),1)]))),128))]))])])]),t("div",xt,[s[16]||(s[16]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"快速操作")],-1)),t("div",yt,[t("div",pt,[e(u,{onClick:s[0]||(s[0]=a=>o.$router.push("/admin/articles")),type:"primary",class:"h-16"},{default:d(()=>[t("div",vt,[e(r,{size:"24",class:"mb-2"},{default:d(()=>[e(c(h))]),_:1}),s[11]||(s[11]=t("div",{class:"text-sm"},"写文章",-1))])]),_:1}),e(u,{onClick:s[1]||(s[1]=a=>o.$router.push("/admin/categories")),class:"h-16"},{default:d(()=>[t("div",bt,[e(r,{size:"24",class:"mb-2"},{default:d(()=>[e(c(k))]),_:1}),s[12]||(s[12]=t("div",{class:"text-sm"},"管理分类",-1))])]),_:1}),e(u,{onClick:s[2]||(s[2]=a=>o.$router.push("/admin/tags")),class:"h-16"},{default:d(()=>[t("div",ft,[e(r,{size:"24",class:"mb-2"},{default:d(()=>[e(c(w))]),_:1}),s[13]||(s[13]=t("div",{class:"text-sm"},"管理标签",-1))])]),_:1}),e(u,{onClick:s[3]||(s[3]=a=>o.$router.push("/admin/comments")),class:"h-16"},{default:d(()=>[t("div",ht,[e(r,{size:"24",class:"mb-2"},{default:d(()=>[e(c(C))]),_:1}),s[14]||(s[14]=t("div",{class:"text-sm"},"管理评论",-1))])]),_:1}),e(u,{onClick:s[4]||(s[4]=a=>o.$router.push("/admin/links")),class:"h-16"},{default:d(()=>[t("div",kt,[e(r,{size:"24",class:"mb-2"},{default:d(()=>[e(c(R))]),_:1}),s[15]||(s[15]=t("div",{class:"text-sm"},"友链管理",-1))])]),_:1})])])])])}}},At=T(wt,[["__scopeId","data-v-46c5ad4e"]]);export{At as default};
