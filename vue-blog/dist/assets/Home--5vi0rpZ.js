import{h as b,c as i,b as r,D as h,F as C,E as $,k as S,K as V,j as f,f as e,n as _,G as n,e as a,q as v,l as p,v as B,L as G,r as y,o as w,B as N,A as q,H as k,M as E,N as L,O as T,P as D,Q as F}from"./index-BjRrW_j8.js";import{u as A}from"./user-CHPnUmjS.js";import{a as U,g as j}from"./article-BD8_1azX.js";import{_ as I}from"./ArticleCard-B651dIwE.js";import{a as M}from"./avatar-Br5af8Id.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"space-y-6"},K={key:0,class:"text-center py-12 text-gray-500 dark:text-gray-400"},O={__name:"ArticleList",props:{articles:{type:Array,default:()=>[]}},setup(x){const d=b(),c=o=>{d.push(`/article/${o.id}`)};return(o,s)=>(r(),i("div",J,[(r(!0),i(C,null,$(x.articles,u=>(r(),S(I,{key:u.id,article:u,onClick:c},null,8,["article"]))),128)),x.articles.length===0?(r(),i("div",K," 暂无文章 ")):h("",!0)]))}},Q={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg"},W={class:"text-center"},X=["src"],Y={class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},Z={class:"text-gray-600 dark:text-gray-400 mb-4"},tt={class:"flex justify-center space-x-4 mb-4"},et={class:"text-center"},st={class:"text-2xl font-bold text-primary"},at={class:"text-center"},ot={class:"text-2xl font-bold text-primary"},lt={class:"text-center"},rt={class:"text-2xl font-bold text-primary"},it={class:"space-y-2"},nt=["href"],ct=["href"],dt={__name:"UserCard",setup(x){const d=A(),o=M,s=V(()=>d.userInfo||{username:"Hazenix",bio:"热爱技术，享受生活",articleCount:12,viewCount:1280,commentCount:56,github:"https://github.com/HazeHacker",email:"3542495583@qq.com"});return(u,t)=>{const l=f("el-icon");return r(),i("div",Q,[e("div",W,[e("img",{src:_(o),alt:"User avatar",class:"w-20 h-20 rounded-full mx-auto mb-4"},null,8,X),e("h3",Y,n(s.value?.username||"Hazenix"),1),e("p",Z,n(s.value?.bio||"热爱技术，享受生活"),1),e("div",tt,[e("div",et,[e("div",st,n(s.value?.articleCount||0),1),t[0]||(t[0]=e("div",{class:"text-sm text-gray-500"},"文章",-1))]),e("div",at,[e("div",ot,n(s.value?.viewCount||0),1),t[1]||(t[1]=e("div",{class:"text-sm text-gray-500"},"浏览",-1))]),e("div",lt,[e("div",rt,n(s.value?.commentCount||0),1),t[2]||(t[2]=e("div",{class:"text-sm text-gray-500"},"评论",-1))])]),e("div",it,[s.value?.github?(r(),i("a",{key:0,href:s.value.github,target:"_blank",class:"block text-sm text-gray-600 dark:text-gray-400 hover:text-primary"},[a(l,{class:"mr-1"},{default:p(()=>[a(_(B))]),_:1}),t[3]||(t[3]=v(" GitHub ",-1))],8,nt)):h("",!0),s.value?.email?(r(),i("a",{key:1,href:`mailto:${s.value.email}`,class:"block text-sm text-gray-600 dark:text-gray-400 hover:text-primary"},[a(l,{class:"mr-1"},{default:p(()=>[a(_(G))]),_:1}),t[4]||(t[4]=v(" 联系我 ",-1))],8,ct)):h("",!0)])])])}}},ut={class:"popular-articles"},_t={class:"section-header"},mt={class:"section-title"},vt={class:"articles-list"},pt=["onClick"],xt={class:"article-rank"},gt={class:"article-content"},ht={class:"article-title"},ft={class:"article-meta"},yt={class:"meta-item"},kt={class:"meta-item"},bt={class:"meta-item"},Ct={key:0,class:"empty-state"},$t={__name:"PopularArticles",setup(x){const d=b(),c=y(!1),o=y([]),s=async()=>{c.value=!0;try{const t=await U({limit:10,timeRange:"week"});console.log("Popular articles response:",t),t&&t.data?Array.isArray(t.data)?o.value=t.data:t.data.records?o.value=t.data.records:t.data.list?o.value=t.data.list:o.value=t.data:o.value=[]}catch(t){console.error("加载热门文章失败:",t),k.error("加载热门文章失败"),o.value=[{id:1,title:"Vue3博客系统开发指南",viewCount:100,likeCount:15,commentCount:8},{id:2,title:"Element Plus组件库使用技巧",viewCount:85,likeCount:12,commentCount:6},{id:3,title:"现代前端开发最佳实践",viewCount:75,likeCount:10,commentCount:5}]}finally{c.value=!1}},u=t=>{d.push(`/article/${t}`)};return w(()=>{s()}),(t,l)=>{const g=f("el-icon"),H=f("el-empty"),z=q("loading");return r(),i("div",ut,[e("div",_t,[e("h3",mt,[a(g,{class:"mr-2"},{default:p(()=>[a(_(E))]),_:1}),l[0]||(l[0]=v(" 热门文章 ",-1))])]),N((r(),i("div",vt,[(r(!0),i(C,null,$(o.value,(m,P)=>(r(),i("div",{key:m.id,class:"article-item",onClick:Gt=>u(m.id)},[e("div",xt,n(P+1),1),e("div",gt,[e("h4",ht,n(m.title),1),e("div",ft,[e("span",yt,[a(g,null,{default:p(()=>[a(_(L))]),_:1}),v(" "+n(m.viewCount||0),1)]),e("span",kt,[a(g,null,{default:p(()=>[a(_(T))]),_:1}),v(" "+n(m.likeCount||0),1)]),e("span",bt,[a(g,null,{default:p(()=>[a(_(D))]),_:1}),v(" "+n(m.commentCount||0),1)])])])],8,pt))),128))])),[[z,c.value]]),!c.value&&o.value.length===0?(r(),i("div",Ct,[a(H,{description:"暂无热门文章","image-size":80})])):h("",!0)])}}},wt=R($t,[["__scopeId","data-v-2c267a53"]]),At={class:"py-16 md:py-24"},Ht={class:"flex flex-col md:flex-row justify-between items-start gap-12"},zt={class:"w-full md:w-1/3 mt-12 md:mt-0"},Pt={class:"mt-24 grid grid-cols-1 lg:grid-cols-3 gap-8"},St={class:"lg:col-span-2"},Vt={class:"lg:col-span-1"},Bt={class:"space-y-8"},Ft={__name:"Home",setup(x){const d=F(),c=b(),o=A(),s=y([]),u=async()=>{const t=d.query.code;if(t)try{await o.googleLogin(t),k.success("Google登录成功"),c.replace({path:"/home",query:{}})}catch(l){k.error("Google登录失败: "+(l.message||"未知错误")),console.error("Google login callback error:",l)}};return w(async()=>{await u();try{const t=await j({status:"0",page:1,pageSize:6});console.log("Home page articles response:",t),t&&t.data?Array.isArray(t.data)?s.value=t.data:t.data.records?s.value=t.data.records:t.data.list?s.value=t.data.list:s.value=t.data:s.value=[]}catch(t){console.error("Failed to load articles:",t),s.value=[{id:1,title:"Vue3博客系统开发指南",summary:"本文介绍了如何使用Vue3、Element Plus和Tailwind CSS构建一个现代化的博客系统...",author:"Hazenix",createTime:"2025-01-01",viewCount:100,tags:[{id:1,name:"Vue3"},{id:2,name:"前端"}]},{id:2,title:"现代前端开发最佳实践",summary:"探索现代前端开发中的最佳实践，包括组件设计、状态管理、性能优化等方面...",author:"Hazenix",createTime:"2025-01-02",viewCount:85,tags:[{id:3,name:"JavaScript"},{id:4,name:"最佳实践"}]}]}}),(t,l)=>(r(),i("div",At,[e("div",Ht,[l[0]||(l[0]=e("div",{class:"md:w-2/3"},[e("h1",{class:"text-5xl md:text-6xl font-bold text-gray-900 dark:text-white"}," Hazenix's Blog "),e("p",{class:"mt-4 text-2xl md:text-3xl text-primary font-semibold"}," Nothing but enthusiasm brightens up the endless years. "),e("p",{class:"mt-6 text-lg text-gray-500 dark:text-gray-400"}," 道阻且长，行则将至 ")],-1)),e("div",zt,[a(dt)])]),e("div",Pt,[e("div",St,[l[1]||(l[1]=e("h2",{class:"text-3xl font-bold mb-8"},"最新文章",-1)),a(O,{articles:s.value},null,8,["articles"])]),e("div",Vt,[e("div",Bt,[a(wt)])])])]))}};export{Ft as default};
