import{u as x}from"./user-CHPnUmjS.js";import{_ as m}from"./LoadingSpinner-RrWrbirh.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as a,o as y,c as d,f as t,e as c,G as o,b as n}from"./index-BjRrW_j8.js";const f={class:"profile"},v={class:"container mx-auto px-4 py-8"},k={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},_={key:0,class:"flex justify-center py-8"},w={key:1,class:"space-y-8"},h={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"space-y-4"},I=["value"],D=["value"],S=["value"],V={class:"space-y-4"},B=["value"],N=["value"],U=["value"],$={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},j={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4"},A={class:"flex items-center"},P={class:"ml-4"},z={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},E={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4"},G={class:"flex items-center"},L={class:"ml-4"},M={class:"text-2xl font-bold text-green-900 dark:text-green-100"},q={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4"},F={class:"flex items-center"},H={class:"ml-4"},J={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},K={class:"flex justify-end space-x-4"},O={__name:"Profile",setup(Q){const i=x(),u=a(!0),s=a({}),l=a({articlesCount:0,commentsCount:0,totalViews:0}),g=async()=>{try{await i.getUserInfo(),s.value=i.userInfo||{}}catch(r){console.error("获取用户信息失败:",r)}finally{u.value=!1}},b=r=>r?new Date(r).toLocaleDateString("zh-CN"):"";return y(()=>{g()}),(r,e)=>(n(),d("div",f,[t("div",v,[t("div",k,[e[15]||(e[15]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"}," 个人中心 ",-1)),u.value?(n(),d("div",_,[c(m)])):(n(),d("div",w,[t("div",null,[e[7]||(e[7]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 个人信息 ",-1)),t("div",h,[t("div",C,[t("div",null,[e[1]||(e[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 用户名 ",-1)),t("input",{value:s.value.username,disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,I)]),t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 邮箱 ",-1)),t("input",{value:s.value.email,disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,D)]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 注册时间 ",-1)),t("input",{value:b(s.value.createdAt),disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,S)])]),t("div",V,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 昵称 ",-1)),t("input",{value:s.value.nickname||"未设置",disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,B)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 个人简介 ",-1)),t("textarea",{value:s.value.bio||"未设置",disabled:"",rows:"3",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,N)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 用户角色 ",-1)),t("input",{value:s.value.isAdmin?"管理员":"普通用户",disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,U)])])])]),t("div",null,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 统计信息 ",-1)),t("div",$,[t("div",j,[t("div",A,[e[9]||(e[9]=t("div",{class:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg"},[t("i",{class:"fas fa-file-alt text-blue-600 dark:text-blue-400"})],-1)),t("div",P,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"我的文章",-1)),t("p",z,o(l.value.articlesCount||0),1)])])]),t("div",E,[t("div",G,[e[11]||(e[11]=t("div",{class:"p-2 bg-green-100 dark:bg-green-800 rounded-lg"},[t("i",{class:"fas fa-comments text-green-600 dark:text-green-400"})],-1)),t("div",L,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"我的评论",-1)),t("p",M,o(l.value.commentsCount||0),1)])])]),t("div",q,[t("div",F,[e[13]||(e[13]=t("div",{class:"p-2 bg-purple-100 dark:bg-purple-800 rounded-lg"},[t("i",{class:"fas fa-eye text-purple-600 dark:text-purple-400"})],-1)),t("div",H,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"总浏览量",-1)),t("p",J,o(l.value.totalViews||0),1)])])])])]),t("div",K,[t("button",{onClick:e[0]||(e[0]=R=>r.$router.push("/profile/edit")),class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," 编辑资料 ")])]))])])]))}},Z=p(O,[["__scopeId","data-v-c00e58f4"]]);export{Z as default};
