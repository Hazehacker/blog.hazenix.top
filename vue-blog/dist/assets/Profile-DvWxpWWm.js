import{i as p,r as o,j as x,c as a,o as d,b as t,a as b,D as n}from"./index-BBqYyNLz.js";import{_ as m}from"./LoadingSpinner-BDhi2Jtp.js";import{a as c}from"./user-S9uowIP7.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v={class:"profile"},y={class:"container mx-auto px-4 py-8"},k={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},_={key:0,class:"flex justify-center py-8"},h={key:1,class:"space-y-8"},w={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"space-y-4"},I=["value"],S=["value"],U=["value"],j={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},B={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4"},$={class:"flex items-center"},D={class:"ml-4"},N={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},P={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4"},V={class:"flex items-center"},E={class:"ml-4"},M={class:"text-2xl font-bold text-green-900 dark:text-green-100"},R={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4"},q={class:"flex items-center"},z={class:"ml-4"},A={class:"text-2xl font-bold text-purple-900 dark:text-purple-100"},F={class:"flex justify-end space-x-4"},G={__name:"Profile",setup(H){const i=p(),u=o(!0),r=o({}),l=o({favoriteCount:0,commentsCount:0,likeCount:0}),g=async()=>{try{await i.getUserInfo(),r.value=i.userInfo||{};try{const s=await c();l.value=s.data||{}}catch(s){console.warn("获取用户统计信息失败:",s)}}catch(s){console.error("获取用户信息失败:",s)}finally{u.value=!1}};return x(()=>{g()}),(s,e)=>(d(),a("div",v,[t("div",y,[t("div",k,[e[12]||(e[12]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"}," 个人中心 ",-1)),u.value?(d(),a("div",_,[b(m)])):(d(),a("div",h,[t("div",null,[e[4]||(e[4]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 个人信息 ",-1)),t("div",w,[t("div",C,[t("div",null,[e[1]||(e[1]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 用户名 ",-1)),t("input",{value:r.value.username,disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,I)]),t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 邮箱 ",-1)),t("input",{value:r.value.email,disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,S)]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 性别 ",-1)),t("input",{value:r.value.gender===0?"保密":r.value.gender===1?"男":"女",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"},null,8,U)])])])]),t("div",null,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 统计信息 ",-1)),t("div",j,[t("div",B,[t("div",$,[e[6]||(e[6]=t("div",{class:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg"},[t("i",{class:"fas fa-file-alt text-blue-600 dark:text-blue-400"})],-1)),t("div",D,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"我的收藏",-1)),t("p",N,n(l.value.favoriteCount||0),1)])])]),t("div",P,[t("div",V,[e[8]||(e[8]=t("div",{class:"p-2 bg-green-100 dark:bg-green-800 rounded-lg"},[t("i",{class:"fas fa-comments text-green-600 dark:text-green-400"})],-1)),t("div",E,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"我的评论",-1)),t("p",M,n(l.value.commentsCount||0),1)])])]),t("div",R,[t("div",q,[e[10]||(e[10]=t("div",{class:"p-2 bg-purple-100 dark:bg-purple-800 rounded-lg"},[t("i",{class:"fas fa-thumbs-up text-purple-600 dark:text-purple-400"})],-1)),t("div",z,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"获赞数",-1)),t("p",A,n(l.value.likeCount||0),1)])])])])]),t("div",F,[t("button",{onClick:e[0]||(e[0]=J=>s.$router.push("/profile/edit")),class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," 编辑资料 ")])]))])])]))}},T=f(G,[["__scopeId","data-v-16bba457"]]);export{T as default};
