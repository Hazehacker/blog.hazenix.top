import{r as d,k as _,l as y,c as o,o as i,b as a,J as v,e as u,t as c,a as h,F as b,n as k,z as A,K as w,g as D}from"./index-cinz6B6s.js";import{a as N}from"./tag-Dgbkx-o3.js";import{_ as T}from"./ArticleCard-vP8TQmsj.js";import{_ as B}from"./LoadingSpinner-FoJTtNJ-.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"tag-detail"},z={class:"container mx-auto px-4 py-8"},C={class:"mb-8"},E={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},F={class:"flex items-center mb-4"},I={class:"text-3xl font-bold text-gray-900 dark:text-white"},M={key:0,class:"text-gray-600 dark:text-gray-300 text-lg"},S={class:"flex items-center mt-4 text-sm text-gray-500 dark:text-gray-400"},$={class:"mr-4"},j={class:"mr-4"},J={class:"mb-8"},K={key:0,class:"flex justify-center py-8"},R={key:1,class:"space-y-6"},q={key:2,class:"text-center py-12"},G={__name:"TagDetail",setup(H){const s=A(),m=d(!1),r=d(null),l=d([]),f=d(0),x=async()=>{if(s.params.id){m.value=!0;try{const e=await N(s.params.id);let t=[];if(e&&e.data?Array.isArray(e.data)?t=e.data:e.data.list&&Array.isArray(e.data.list)?t=e.data.list:Array.isArray(e.data.records)&&(t=e.data.records):Array.isArray(e)&&(t=e),l.value=t,f.value=t.length,l.value.length>0&&l.value[0].tags){const n=l.value[0].tags.find(g=>g.id==s.params.id||g.id==String(s.params.id));n?r.value={name:n.name,id:s.params.id}:r.value={name:"标签",id:s.params.id}}else r.value={name:"标签",id:s.params.id}}catch{w.error("获取标签文章失败，请稍后重试"),l.value=[],r.value={name:"标签",id:s.params.id}}finally{m.value=!1}}},p=e=>e?new Date(e).toLocaleDateString("zh-CN"):"";return _(()=>s.params.id,()=>{x()},{immediate:!0}),y(()=>{x()}),(e,t)=>(i(),o("div",L,[a("div",z,[a("div",C,[a("div",E,[a("div",F,[t[0]||(t[0]=a("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 mr-4"},[a("i",{class:"fas fa-tag mr-1"}),u(" 标签 ")],-1)),a("h1",I,c(r.value?.name||"加载中..."),1)]),r.value?.description?(i(),o("p",M,c(r.value.description),1)):v("",!0),a("div",S,[a("span",$,[t[1]||(t[1]=a("i",{class:"fas fa-file-alt mr-1"},null,-1)),u(" "+c(f.value)+" 篇文章 ",1)]),a("span",j,[t[2]||(t[2]=a("i",{class:"fas fa-calendar mr-1"},null,-1)),u(" 创建于 "+c(p(r.value?.createdAt)),1)])])])]),a("div",J,[t[4]||(t[4]=a("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-white mb-6"}," 相关文章 ",-1)),m.value?(i(),o("div",K,[h(B)])):l.value.length>0?(i(),o("div",R,[(i(!0),o(b,null,k(l.value,n=>(i(),D(T,{key:n.id,article:n,class:"hover:shadow-lg transition-shadow duration-300"},null,8,["article"]))),128))])):(i(),o("div",q,[...t[3]||(t[3]=[a("div",{class:"text-gray-400 dark:text-gray-500 mb-4"},[a("i",{class:"fas fa-inbox text-6xl"})],-1),a("h3",{class:"text-xl font-medium text-gray-900 dark:text-white mb-2"}," 暂无文章 ",-1),a("p",{class:"text-gray-600 dark:text-gray-400"}," 该标签下还没有任何文章 ",-1)])]))])])]))}},X=V(G,[["__scopeId","data-v-79f1bb68"]]);export{X as default};
