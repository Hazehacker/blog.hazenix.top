import{r as d,K as T,w as p,o as C,c as l,f as t,D as y,q as v,G as u,e as N,F as h,E as b,Q as z,b as r,k as A,X as B}from"./index-BjRrW_j8.js";import{a as P}from"./tag-DS2ZB2eO.js";import{_ as V}from"./ArticleCard-B651dIwE.js";import{_ as M}from"./LoadingSpinner-RrWrbirh.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"tag-detail"},j={class:"container mx-auto px-4 py-8"},E={class:"mb-8"},F={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},I={class:"flex items-center mb-4"},L={class:"text-3xl font-bold text-gray-900 dark:text-white"},q={key:0,class:"text-gray-600 dark:text-gray-300 text-lg"},G={class:"flex items-center mt-4 text-sm text-gray-500 dark:text-gray-400"},K={class:"mr-4"},Q={class:"mr-4"},R={class:"mb-8"},X={key:0,class:"flex justify-center py-8"},H={key:1,class:"space-y-6"},J={key:2,class:"text-center py-12"},O={key:3,class:"mt-8 flex justify-center"},U={class:"flex items-center space-x-2"},W=["onClick"],Y=10,Z={__name:"TagDetail",setup(tt){const i=z(),f=d(!1),c=d(null),o=d([]),n=d(1),g=d(1),_=d(0),k=T(()=>{const a=[],e=Math.max(1,n.value-2),s=Math.min(g.value,e+4);for(let m=e;m<=s;m++)a.push(m);return a}),x=async()=>{if(i.params.id){f.value=!0;try{const a=await P(i.params.id,{page:n.value,pageSize:Y});if(o.value=a.data||[],_.value=o.value.length,o.value.length>0&&o.value[0].tags){const e=o.value[0].tags.find(s=>s.id==i.params.id);e&&(c.value={name:e.name,id:i.params.id})}else c.value={name:"标签",id:i.params.id}}catch(a){console.error("获取标签文章失败:",a),o.value=[]}finally{f.value=!1}}},w=a=>{a>=1&&a<=g.value&&a!==n.value&&(n.value=a)},D=a=>a?new Date(a).toLocaleDateString("zh-CN"):"";return p(()=>i.params.id,()=>{n.value=1,x()},{immediate:!0}),p(n,()=>{x()}),C(()=>{x()}),(a,e)=>(r(),l("div",$,[t("div",j,[t("div",E,[t("div",F,[t("div",I,[e[0]||(e[0]=t("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 mr-4"},[t("i",{class:"fas fa-tag mr-1"}),v(" 标签 ")],-1)),t("h1",L,u(c.value?.name||"加载中..."),1)]),c.value?.description?(r(),l("p",q,u(c.value.description),1)):y("",!0),t("div",G,[t("span",K,[e[1]||(e[1]=t("i",{class:"fas fa-file-alt mr-1"},null,-1)),v(" "+u(_.value)+" 篇文章 ",1)]),t("span",Q,[e[2]||(e[2]=t("i",{class:"fas fa-calendar mr-1"},null,-1)),v(" 创建于 "+u(D(c.value?.createdAt)),1)])])])]),t("div",R,[e[4]||(e[4]=t("h2",{class:"text-2xl font-semibold text-gray-900 dark:text-white mb-6"}," 相关文章 ",-1)),f.value?(r(),l("div",X,[N(M)])):o.value.length>0?(r(),l("div",H,[(r(!0),l(h,null,b(o.value,s=>(r(),A(V,{key:s.id,article:s,class:"hover:shadow-lg transition-shadow duration-300"},null,8,["article"]))),128))])):(r(),l("div",J,[...e[3]||(e[3]=[t("div",{class:"text-gray-400 dark:text-gray-500 mb-4"},[t("i",{class:"fas fa-inbox text-6xl"})],-1),t("h3",{class:"text-xl font-medium text-gray-900 dark:text-white mb-2"}," 暂无文章 ",-1),t("p",{class:"text-gray-600 dark:text-gray-400"}," 该标签下还没有任何文章 ",-1)])])),g.value>1?(r(),l("div",O,[t("nav",U,[(r(!0),l(h,null,b(k.value,s=>(r(),l("button",{key:s,onClick:m=>w(s),class:B(["px-4 py-2 rounded-md text-sm font-medium transition-colors",s===n.value?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},u(s),11,W))),128))])])):y("",!0)])])]))}},ot=S(Z,[["__scopeId","data-v-f944609c"]]);export{ot as default};
