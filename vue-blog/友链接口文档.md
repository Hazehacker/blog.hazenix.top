# 友链管理接口文档

## 接口概述

友链管理接口分为管理端和前台两个部分，管理端接口用于后台管理友链，前台接口用于获取友链列表展示。

## 管理端接口

### 1. 获取友链列表

**接口地址：** `GET /admin/links`

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| page | int | 否 | 页码，默认1 |
| size | int | 否 | 每页数量，默认20 |
| keyword | string | 否 | 搜索关键词（网站名称或描述） |
| status | int | 否 | 状态筛选（0正常 1审核中） |

**请求示例：**
```
GET /admin/links?page=1&size=20&keyword=Vue&status=0
```

**响应示例：**
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "name": "Vue.js",
        "description": "渐进式JavaScript框架",
        "url": "https://vuejs.org",
        "avatar": "https://vuejs.org/images/logo.png",
        "sort": 1,
        "status": 0,
        "createTime": "2024-01-01T10:00:00"
      }
    ],
    "total": 1,
  }
}
```

### 2. 获取友链详情

**接口地址：** `GET /admin/links/{id}`

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | long | 是 | 友链ID |

**请求示例：**
```
GET /admin/links/1
```

**响应示例：**
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "Vue.js",
    "description": "渐进式JavaScript框架",
    "url": "https://vuejs.org",
    "avatar": "https://vuejs.org/images/logo.png",
    "sort": 1,
    "status": 0,
    "createTime": "2024-01-01T10:00:00"
  }
}
```

### 3. 创建友链

**接口地址：** `POST /admin/links`

**请求头：**
```
Content-Type: application/json
Authorization: Bearer {token}
```

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| name | string | 是 | 网站名称，最大48字符 |
| description | string | 否 | 网站描述，最大255字符 |
| url | string | 是 | 网站地址，必须是有效URL |
| avatar | string | 否 | 友链头像URL，最大600字符 |
| sort | int | 否 | 排序，默认0 |
| status | int | 否 | 状态，0正常 1审核中，默认0 |

**请求示例：**
```json
{
  "name": "Vue.js",
  "description": "渐进式JavaScript框架",
  "url": "https://vuejs.org",
  "avatar": "https://vuejs.org/images/logo.png",
  "sort": 1,
  "status": 0
}
```

**响应示例：**
```json
{
  "code": 200,
  "message": "创建成功",
  "data": {
    "id": 1,
    "name": "Vue.js",
    "description": "渐进式JavaScript框架",
    "url": "https://vuejs.org",
    "avatar": "https://vuejs.org/images/logo.png",
    "sort": 1,
    "status": 0,
    "createTime": "2024-01-01T10:00:00"
  }
}
```

### 4. 更新友链

**接口地址：** `PUT /admin/links/{id}`

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | long | 是 | 友链ID |

**请求头：**
```
Content-Type: application/json
Authorization: Bearer {token}
```

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| name | string | 是 | 网站名称，最大48字符 |
| description | string | 否 | 网站描述，最大255字符 |
| url | string | 是 | 网站地址，必须是有效URL |
| avatar | string | 否 | 友链头像URL，最大600字符 |
| sort | int | 否 | 排序 |
| status | int | 否 | 状态，0正常 1审核中 |

**请求示例：**
```json
{
  "name": "Vue.js 3",
  "description": "渐进式JavaScript框架 - 最新版本",
  "url": "https://vuejs.org",
  "avatar": "https://vuejs.org/images/logo.png",
  "sort": 1,
  "status": 0
}
```

**响应示例：**
```json
{
  "code": 200,
  "message": "更新成功",
  "data": {
    "id": 1,
    "name": "Vue.js 3",
    "description": "渐进式JavaScript框架 - 最新版本",
    "url": "https://vuejs.org",
    "avatar": "https://vuejs.org/images/logo.png",
    "sort": 1,
    "status": 0,
    "createTime": "2024-01-01T10:00:00"
  }
}
```

### 5. 删除友链

**接口地址：** `DELETE /admin/links/{id}`

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | long | 是 | 友链ID |

**请求头：**
```
Authorization: Bearer {token}
```

**请求示例：**
```
DELETE /admin/links/1
```

**响应示例：**
```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```

### 6. 批量删除友链

**接口地址：** `DELETE /admin/links/batch`

**请求头：**
```
Content-Type: application/json
Authorization: Bearer {token}
```

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| ids | array | 是 | 友链ID数组 |

**请求示例：**
```json
{
  "ids": [1, 2, 3]
}
```

**响应示例：**
```json
{
  "code": 200,
  "message": "批量删除成功",
  "data": null
}
```

### 7. 更新友链状态

**接口地址：** `PUT /admin/links/{id}/status`

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | long | 是 | 友链ID |

**请求头：**
```
Content-Type: application/json
Authorization: Bearer {token}
```

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| status | int | 是 | 状态，0正常 1审核中 |

**请求示例：**
```json
{
  "status": 0
}
```

**响应示例：**
```json
{
  "code": 200,
  "message": "状态更新成功",
  "data": null
}
```




## 前台接口

### 1. 获取友链列表（前台）

**接口地址：** `GET /user/links`

**请求参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| status | int | 否 | 状态筛选，默认0（只返回正常状态的友链） |
| sort | string | 否 | 排序方式，asc升序 desc降序，默认asc |

**请求示例：**
```
GET /user/links?status=0&sort=asc
```

**响应示例：**
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "name": "Vue.js",
      "description": "渐进式JavaScript框架",
      "url": "https://vuejs.org",
      "avatar": "https://vuejs.org/images/logo.png",
      "sort": 1,
      "status": 0,
      "createTime": "2024-01-01T10:00:00"
    },
    {
      "id": 2,
      "name": "Element Plus",
      "description": "基于Vue 3的桌面端组件库",
      "url": "https://element-plus.org",
      "avatar": "https://element-plus.org/images/element-plus-logo-small.svg",
      "sort": 2,
      "status": 0,
      "createTime": "2024-01-01T11:00:00"
    }
  ]
}
```



